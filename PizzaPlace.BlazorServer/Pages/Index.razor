@page "/"

@inject NavMenuService GlobalService
@inject IJSRuntime JSRuntime
@implements IDisposable

<PageTitle>Index</PageTitle>



<div class="hero-image " @onclick="Print">
    <div class="shade"></div>
    <h1 class="hero-title">Every Pizza Tells a Story, Taste Ours.</h1>
    <!--
    <div class="order-flow-wrapper shadow rounded p-3">
        <h3>Speciality of the day : </h3>
        <h6>Mushroom Manor Delight</h6>
        <p>Ingridients : <b>mushroom</b>, <b>cherry tomato</b>, <b>champignon</b></p>
    </div>
    -->
</div>

<div class="ordering-menu">
    <div class="container ">
        <h1 class="text-primary">Popular Today :</h1>
        <div class="row px-2 py-1 justify-content-center">
            <div class="col-12">
                <ProductList Products="products"/>
            </div>
        </div>
    </div>
</div>


@code{
    List<ProductInfo> products = new List<ProductInfo>
{
    new ProductInfo{Id = 1, Name = "Meat Lover's Magic", Ingridients = "Tomato sauce, Mozzarella cheese, Pepperoni, Italian sausage, Bacon, Ham, Ground beef.", Price=16.99f, DiscountedPrice=13.99f},
    new ProductInfo{Id = 2, Name = "Veggie Delight", Ingridients = "Tomato sauce, Mozzarella cheese, Green peppers, Onions, Mushrooms, Black olives, Tomatoes.", Price=14.99f, DiscountedPrice=11.99f},
    new ProductInfo{Id = 3, Name = "Margherita Classic", Ingridients = "Tomato sauce, Fresh mozzarella, Fresh basil leaves, Tomatoes.", Price=13.99f, DiscountedPrice=10.99f},
    new ProductInfo{Id = 4, Name = "Hawaiian Paradise", Ingridients = "Tomato sauce, Mozzarella cheese, Ham, Pineapple.", Price=15.99f, DiscountedPrice=12.99f}
};


    protected override void OnInitialized()
    {
        GlobalService.OnNavShowChanged += StateHasChanged;
    }

    void Print()
    {
        JSRuntime.InvokeVoidAsync("console.log", GlobalService.NavShow);
    }

    public void Dispose()
    {
        GlobalService.OnNavShowChanged -= StateHasChanged;
    }


}

